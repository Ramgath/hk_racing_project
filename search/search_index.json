{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"HK Racing Project","text":"<p>Executive Summary The HK Racing Project is a data-driven initiative to ingest, model, and analyze horse racing data from the Hong Kong Jockey Club. Our goal is to build a robust end-to-end pipeline\u2014covering data collection, schema design, pipeline orchestration, and analytics dashboards\u2014to enable rapid iteration on performance metrics and machine-learning models.</p> <p>Objectives - Ingest race results, horse and jockey data, and betting odds into BigQuery. - Define a clear, version-controlled data model and dictionary. - Build an automated pipeline (Google Sheets+ GCS + BigQuery). - Deliver KPI dashboards and exploratory notebooks for analytics and ML.</p>"},{"location":"#table-of-contents","title":"Table of Contents","text":"<ol> <li>Phase 1: Discovery</li> <li>Phase 2: Data Ingestion</li> <li>Phase 3: Data Modeling &amp; Dictionary</li> <li>Phase 4: Pipeline Design &amp; Infrastructure</li> <li>Phase 5: Analytics &amp; Visualization</li> <li>Project Status</li> </ol>"},{"location":"decisions/","title":"Key Project Decisions","text":"<p>This document tracks the major design and process decisions for the HK Racing Project, along with context, alternatives considered, and rationale.</p> Date Decision Aspect Alternatives Considered Rationale / Notes 2025-05-04 Use MkDocs + Material theme for docs site Documentation GitHub Pages from <code>/docs</code>, Jekyll Better theming, built-in nav sidebar 2025-05-04 Deploy docs via GitHub Actions to <code>gh-pages</code> CI/CD Manual Pages from <code>/docs</code> folder Full control over build, future plugins 2025-05-05 Design repo for AI-only assistance; skip human-centric features Repository Setup Public repo setup, contributor templates, open-source guidelines Ensures proprietary strategies remain private, limits liability; sharing steps can be added later 2025-05-06 Configure pre-commit hooks for code and notebooks Tooling Manual formatting, commit-by-commit cleaning Automate code style enforcement and strip notebook outputs 2025-05-06 Add GitHub Actions workflows for CI and docs deploy CI/CD Manual test and docs builds Automatically lint, test, and deploy docs on push 2025-05-06 Establish branch protection rules on main Process Unrestricted direct pushes Ensure all changes are reviewed and pass CI before merge 2025-05-06 Create GitHub issue and PR templates Process Freeform issues and PR descriptions Standardize issue reporting and PR reviews 2025-05-06 Scaffold Makefile and setup scripts for environment Developer DX Manual venv creation and pip installs Provide reproducible one-command environment bootstrapping 2025-05-06 Rolled back branch protection rules for personal repo Process Enforced PR and status checks Simplify workflow for solo development; allow direct pushes 2025-05-XX (future decision)"},{"location":"milestones/","title":"Milestones &amp; Tasks","text":"<p>A living log of project milestones and tasks, linked to GitHub issues. Update statuses, due dates, and issue numbers as you progress.</p>"},{"location":"milestones/#phase-1-discovery","title":"Phase 1: Discovery","text":"Task Issue Status Due Date Define objectives &amp; success criteria 1 In"},{"location":"phase-01-definition/","title":"Phase 1 \u2013 Project Definition","text":""},{"location":"phase-01-definition/#11-objectives-success-criteria","title":"1.1 Objectives &amp; Success Criteria","text":"<p>Objectives - Automated Data Ingestion   Build a full scraping pipeline from the HKJC site into BigQuery, covering:   - Upcoming racecards   - Historical race results   - Stewards\u2019 reports   - Horse profiles (breeding, trackwork, vet records, etc.)</p> <ul> <li>Interactive Streamlit Dashboard   Develop a Streamlit app that:</li> <li>Surfaces all ingested data and key metrics on your Galaxy Tab</li> <li>Displays model predictions and EDA insights</li> <li>Integrates with GitHub (versioning) and BigQuery (live queries)</li> <li> <p>Operates under free-tier quotas (Streamlit &amp; BigQuery)</p> </li> <li> <p>Predictive Modeling &amp; Analysis   Conduct end-to-end analysis to:</p> </li> <li>Explore performance trends (EDA)</li> <li>Build baseline \u2192 advanced predictive models</li> <li>Embed outputs in the dashboard</li> <li>Target a sustained positive EV in HK betting pools</li> </ul> <p>Success Criteria</p> <ul> <li>100% of scheduled race meetings scraped, with \u2265\u202f95% of races ingested without critical gaps</li> <li>Pipeline runs twice weekly (per HKJC calendar) capturing all core datasets</li> <li>Annualized ROI \u2265\u202f20%, exceeding 6\u201310% benchmark and major indices (e.g. S&amp;P\u202f500)</li> <li>Maximum simulated drawdown \u2264\u202f50% with Kelly\u2011criterion sizing (max 10% per race)</li> <li>Streamlit MVP that:<ul> <li>Shows scraped data, EDA insights &amp; model outputs</li> <li>Refreshes odds data within 1\u202fminute in the 15\u202fminutes pre\u2011race</li> </ul> </li> <li>EDA notebook published by August 2025, with \u2265\u202f3 actionable insights</li> <li>Ingestion pipeline in production (BigQuery) by September 2025, with &lt;\u202f1% failure rate</li> <li>Documentation site uptime \u2265\u202f99%; data freshness guaranteed on racedays</li> <li>Live betting readiness by September 2026</li> </ul>"},{"location":"phase-01-definition/#12-resources-environment-configuration","title":"1.2 Resources &amp; Environment Configuration","text":""},{"location":"phase-01-definition/#121-local-development","title":"1.2.1 Local Development","text":"<ul> <li> <p>OS &amp; Hardware   macOS on MacBook Air (Apple Silicon, 8 GB RAM)</p> </li> <li> <p>Python   Versions 3.9\u20133.11 (pin in <code>requirements.txt</code>; adjust only if needed)</p> </li> <li> <p>IDE / Editor   Visual Studio Code (with JupyterLab via the Python extension or Anaconda)</p> </li> <li> <p>Virtualization</p> </li> <li>Virtualenv (<code>venv</code>) for dependency isolation</li> <li>Docker (optional, for future reproducibility)</li> </ul> <p>Quickstart</p> <p><code>bash make setup source .venv/bin/activate code .</code></p>"},{"location":"phase-01-definition/#122-cloud-accounts-billing","title":"1.2.2 Cloud Accounts &amp; Billing","text":"<ul> <li>GCP</li> <li>Credentials: <code>~/.gcp/credentials.hk_racing_sa_key.json</code></li> <li>Project ID: <code>project-benter-428008-b7</code></li> <li> <p>BigQuery Dataset: <code>hk_racing_dataset</code> (us multi-region)</p> </li> <li> <p>External Tables   Use Google Sheets as external tables, then materialize into native BigQuery tables via scheduled queries.</p> </li> <li> <p>Budgets &amp; Alerts</p> </li> <li>Monthly cap: \\$2 (testing), scaling to \\$20</li> <li> <p>Alert at \\$1 (configured in GCP Billing \u2192 Budgets)</p> </li> <li> <p>Streamlit Cloud</p> </li> <li>Link GitHub repo at share.streamlit.io</li> <li>Store <code>GCP_SA_KEY</code> as a GitHub secret</li> </ul>"},{"location":"phase-01-definition/#123-version-control-secrets","title":"1.2.3 Version Control &amp; Secrets","text":"<ul> <li> <p>Branching   Single <code>main</code> branch; use feature branches for large refactors</p> </li> <li> <p>Secrets</p> </li> <li>GCP service\u2010account key as GitHub Secret <code>GCP_SA_KEY</code></li> <li> <p>Local env var:     <code>bash     export GOOGLE_APPLICATION_CREDENTIALS=\"$HOME/.gcp/credentials.hk_racing_sa_key.json\"</code></p> </li> <li> <p>Local Data   Cache cleansed data under <code>data/processed/</code>; push final tables to BigQuery for heavy ML workloads.</p> </li> </ul>"},{"location":"phase-01-definition/#13-project-scope-assumptions","title":"1.3 Project Scope &amp; Assumptions","text":""},{"location":"phase-01-definition/#131-in-scope-data-domains","title":"1.3.1 In-Scope Data Domains","text":"<ul> <li>Full HKJC scraping \u2192 BigQuery</li> <li>EDA notebooks in Colab</li> <li>Data modeling (feature engineering, schemas)</li> </ul>"},{"location":"phase-01-definition/#132-out-of-scope-items","title":"1.3.2 Out-of-Scope Items","text":"<ul> <li>Streamlit dashboard development</li> <li>Real-time odds tracking (sub-minute scrapes)</li> </ul>"},{"location":"phase-01-definition/#133-key-risks-mitigations","title":"1.3.3 Key Risks &amp; Mitigations","text":"Risk Likelihood Impact Mitigation HKJC site layout/format changes Low High Rebuild scraper upon changes IP blocking by HKJC due to scraping Low Low Use VPN or Colab IP ranges"},{"location":"phase-01-definition/#14-timeline-milestones","title":"1.4 Timeline &amp; Milestones","text":"Milestone Target Date Exploratory EDA Notebook MVP August 2025 Ingestion Pipeline in Production September 2025 Baseline Predictive Model November 2025 Advanced Model Iterations February 2026 Dashboard MVP (Streamlit) May 2026 Live Betting Go-Live Preparation September 2026 <p>Note: Dates assume a May 2025 start</p>"},{"location":"phase-01-definition/#15-acceptance-criteria-checklist","title":"1.5 Acceptance Criteria Checklist","text":"<ul> <li>[x] Objectives &amp; Success Criteria documented and committed</li> <li>[x] Local &amp; cloud environments fully configured</li> <li>[x] Scope, assumptions &amp; risks recorded</li> <li>[x] Milestones scheduled with clear target dates</li> <li>[x] Acceptance checklist created for Phase 1 sign-off</li> </ul>"},{"location":"phase-02-collection/","title":"Phase 2","text":"<p>Phase\u00a02\u00a0\u2013\u00a0Data\u202fCollection &amp; Storage (phase-02-collection.md)</p> <p>2.1\u202fSource Inventory \u00a0\u20032.1.1\u00a0HKJC Results API \u00a0\u20032.1.2\u00a0Odds Endpoint \u00a0\u20032.1.3\u00a0Historical CSV Archives 2.2\u202fAccess &amp; Authentication 2.3\u202fWeb\u2011Scraping Design \u00a0\u20032.3.1\u00a0Scraper Framework Selection \u00a0\u20032.3.2\u00a0Pagination &amp; Rate\u00a0Limit Handling 2.4\u202fRaw Storage Schema (GCS / S3) 2.5\u202fIncremental vs\u00a0Full Loads 2.6\u202fData\u2011Ingestion Logging 2.7\u202fCollection Success\u00a0Metrics</p>"},{"location":"phase-03-cleansing/","title":"Phase 3","text":"<p>Phase\u00a03\u00a0\u2013\u00a0Data\u202fCleansing &amp; Pre\u2011processing (phase-03-cleansing.md)</p> <p>3.1\u202fData\u00a0Profiling &amp; Quality Checks 3.2\u202fStandardization Rules 3.3\u202fHandling Missing &amp; Anomalous Values 3.4\u202fNormalization &amp; Encoding 3.5\u202fPartitioning Strategy (BigQuery) 3.6\u202fAutomated Validation Tests 3.7\u202fCleansed Layer KPIs</p>"},{"location":"phase-04-eda/","title":"Phase 4","text":"<p>Phase\u00a04\u00a0\u2013\u00a0Exploratory\u202fData\u202fAnalysis (phase-04-eda.md)</p> <p>4.1\u202fExploration Notebook Index 4.2\u202fDescriptive Statistics 4.3\u202fRace &amp; Horse Performance Trends 4.4\u202fCorrelation Heatmaps 4.5\u202fFeature Importance Probes 4.6\u202fEDA Findings Summary</p>"},{"location":"phase-05-features/","title":"Phase 5","text":"<p>Phase\u00a05\u00a0\u2013\u00a0Feature Engineering (phase-05-features.md)</p> <p>5.1\u202fFeature List &amp; Definitions 5.2\u202fRolling Window Calculations 5.3\u202fCategorical Encodings 5.4\u202fTarget Variable Construction 5.5\u202fFeature Store Schema 5.6\u202fFeature Quality Metrics</p>"},{"location":"phase-06-model/","title":"Phase 6","text":"<p>Phase\u00a06\u00a0\u2013\u00a0Model Development (phase-06-model.md)</p> <p>6.1\u202fModelling Objectives 6.2\u202fTrain/Validation Split Strategy 6.3\u202fBaseline Models 6.4\u202fHyper\u2011parameter Tuning Plan 6.5\u202fModel Versioning &amp; Registry 6.6\u202fTraining Pipeline Automation</p>"},{"location":"phase-07-evaluation/","title":"Phase 7","text":"<p>Phase\u00a07\u00a0\u2013\u00a0Model Evaluation (phase-07-evaluation.md)</p> <p>7.1\u202fEvaluation Metrics (AUC,\u00a0LogLoss, ROI) 7.2\u202fCross\u2011Validation Results 7.3\u202fBack\u2011testing on Historical Meets 7.4\u202fError Analysis &amp; Bias Checks 7.5\u202fModel Comparison Dashboard 7.6\u202fGo\u2011/No\u2011Go Decision Criteria</p>"},{"location":"phase-08-deployment/","title":"Phase 8","text":"<p>Phase\u00a08\u00a0\u2013\u00a0Deployment &amp; Monitoring (phase-08-deployment.md)</p> <p>8.1\u202fServing Architecture (Batch vs\u00a0Real\u2011time) 8.2\u202fInfrastructure as Code (Terraform) 8.3\u202fCI/CD Release Flow 8.4\u202fOnline Feature Retrieval 8.5\u202fModel Drift Detection 8.6\u202fAlerting &amp; Incident Response Runbook</p>"},{"location":"phase-09-management/","title":"Phase 9","text":"<p>Phase\u00a09\u00a0\u2013\u00a0Project Management &amp; Documentation (phase-09-management.md)</p> <p>9.1\u202fMilestone Tracking &amp; Burndown 9.2\u202fDecisions Log Maintenance 9.3\u202fRisk Register Updates 9.4\u202fBudget &amp; Cost Monitoring 9.5\u202fDocumentation Publishing Workflow 9.6\u202fLessons Learned / Post\u2011mortems 9.7\u202fFuture Roadmap</p>"},{"location":"project-status/","title":"Project Status","text":""},{"location":"project-status/#project-status","title":"Project Status","text":"<ul> <li>2025-04-26: Repo initialized</li> <li>2025-04-30: Initial overview drafted</li> <li>2025-05-04: MkDocs structure, phase files, and GitHub Actions workflow added</li> <li>2025-05-04: First GitHub Pages deploy succeeded; site now live</li> <li>2025-05-05: Designed repo for AI-only assistance; skipped human-centric features</li> <li>2025-05-06: Added <code>.editorconfig</code> for consistent formatting</li> <li>2025-05-06: Added GitHub issue and PR templates</li> <li>2025-05-06: Configured pre-commit hooks (Black, Flake8, nbstripout)</li> <li>2025-05-06: Set up CI and Docs deploy workflows (GitHub Actions)</li> <li>2025-05-06: Scaffolded Makefile and environment setup scripts</li> <li>2025-05-06: Rolled back branch protection and removed CODEOWNERS</li> </ul>"}]}