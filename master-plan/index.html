
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Comprehensive plan for the Hong Kong Racing Project, covering objectives, methodology, and all planned phases.">
      
      
      
        <link rel="canonical" href="https://ramgath.github.io/hk_racing_project/master-plan/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../decisions/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>HK Racing Project Plan - HK Racing Project</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/overrides.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hong-kong-racing-project-master-plan" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="HK Racing Project" class="md-header__button md-logo" aria-label="HK Racing Project" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HK Racing Project
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HK Racing Project Plan
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="HK Racing Project" class="md-nav__button md-logo" aria-label="HK Racing Project" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HK Racing Project
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Overview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Project Plan
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Project Plan
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-definition-and-establishment" class="md-nav__link">
    <span class="md-ellipsis">
      Project Definition and Establishment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Definition and Establishment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#01-introduction-and-aims" class="md-nav__link">
    <span class="md-ellipsis">
      0.1. Introduction and Aims
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.1. Introduction and Aims">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#011-project-objective" class="md-nav__link">
    <span class="md-ellipsis">
      0.1.1. Project Objective
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#012-document-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      0.1.2. Document Purpose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#02-resource-and-environment-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      0.2. Resource and Environment Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.2. Resource and Environment Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#021-hardware" class="md-nav__link">
    <span class="md-ellipsis">
      0.2.1. Hardware
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#022-software-and-cloud-services-primarily-google-ecosystem" class="md-nav__link">
    <span class="md-ellipsis">
      0.2.2. Software and Cloud Services (Primarily Google Ecosystem)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#023-development-environment" class="md-nav__link">
    <span class="md-ellipsis">
      0.2.3. Development Environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#03-proposed-workflow-outline-original-hybrid-concept" class="md-nav__link">
    <span class="md-ellipsis">
      0.3. Proposed Workflow Outline (Original Hybrid Concept)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.3. Proposed Workflow Outline (Original Hybrid Concept)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#031-rationale-for-hybrid-workflow-sheets-bigquery-colab" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.1. Rationale for Hybrid Workflow (Sheets -&gt; BigQuery -&gt; Colab)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#032-alternative-methodologies-considered-original-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.2. Alternative Methodologies Considered (Original Assessment)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-1-data-collection-and-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Data Collection and Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 1: Data Collection and Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-data-sources" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Data Sources:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-historical-data-consideration-pre-2008" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Historical Data Consideration (Pre-2008):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-data-acquisition-methodology" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Data Acquisition Methodology:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-preliminary-data-formatting-post-scraping-for-hkjc-data" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. Preliminary Data Formatting (Post-Scraping - for HKJC Data):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-data-storage-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      1.5. Data Storage Strategy:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-2-data-cleansing-and-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Data Cleansing and Preprocessing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 2: Data Cleansing and Preprocessing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-overview-of-collected-data" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Overview of Collected Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-cleansing-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Cleansing Procedure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-data-validation-and-format-consistency" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Data Validation and Format Consistency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-management-of-missing-valuesoutliers" class="md-nav__link">
    <span class="md-ellipsis">
      2.4. Management of Missing Values/Outliers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-data-transformation-preparation-for-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      2.5. Data Transformation (Preparation for Modeling)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-3-exploratory-data-analysis-eda" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Exploratory Data Analysis (EDA)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 3: Exploratory Data Analysis (EDA)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-data-querying" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Data Querying
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-descriptive-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Descriptive Statistics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Visualization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-initial-observations-and-hypothesis-formulation" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Initial Observations and Hypothesis Formulation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-4-feature-engineering" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Feature Engineering
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 4: Feature Engineering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-methodology" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Methodology
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-initial-feature-set" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Initial Feature Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-target-feature-set" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Target Feature Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-example-categories-of-engineered-features" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Example Categories of Engineered Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-feature-engineering-approach" class="md-nav__link">
    <span class="md-ellipsis">
      4.5. Feature Engineering Approach
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-roles-of-bigquery-and-colab" class="md-nav__link">
    <span class="md-ellipsis">
      4.6. Roles of BigQuery and Colab
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-5-model-development-and-training" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 5: Model Development and Training
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 5: Model Development and Training">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-model-selection" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Model Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-training-environment" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Training Environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-validation-approach" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Validation Approach
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-hyperparameter-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      5.4. Hyperparameter Optimization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-6-model-evaluation-and-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 6: Model Evaluation and Validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 6: Model Evaluation and Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-performance-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Performance Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-backtesting-outcomes" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Backtesting Outcomes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-wagering-strategy-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. Wagering Strategy Simulation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-profitability-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      6.4. Profitability Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-iterative-refinement" class="md-nav__link">
    <span class="md-ellipsis">
      6.5. Iterative Refinement
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-7-deployment-and-monitoring-future-phase" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 7: Deployment and Monitoring (Future Phase)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 7: Deployment and Monitoring (Future Phase)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-prediction-generation-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Prediction Generation Workflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-performance-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. Performance Monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-retraining-approach" class="md-nav__link">
    <span class="md-ellipsis">
      7.3. Retraining Approach
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-8-project-management-and-continuous-improvement" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 8: Project Management and Continuous Improvement
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 8: Project Management and Continuous Improvement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-potential-challenges-and-resolutions-ongoing-log" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. Potential Challenges and Resolutions (Ongoing Log)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-data-size-projections-and-growth" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. Data Size Projections and Growth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-tools-summary" class="md-nav__link">
    <span class="md-ellipsis">
      8.3. Tools Summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-future-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      8.4. Future Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85-version-control-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      8.5. Version Control Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86-references" class="md-nav__link">
    <span class="md-ellipsis">
      8.6. References
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.6. References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a1-hk_racing_datasetrace_details" class="md-nav__link">
    <span class="md-ellipsis">
      A.1. hk_racing_dataset.race_details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a2-hk_racing_datasetrace_card" class="md-nav__link">
    <span class="md-ellipsis">
      A.2. hk_racing_dataset.race_card
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a3-hk_racing_datasetrace_results" class="md-nav__link">
    <span class="md-ellipsis">
      A.3. hk_racing_dataset.race_results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a4-hk_racing_datasethorse_register" class="md-nav__link">
    <span class="md-ellipsis">
      A.4. hk_racing_dataset.horse_register
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../decisions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decisions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-status/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Status
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-accomplishments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accomplishments
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Phases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Phases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase-01-collection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    P1-collection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase-02-cleansing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phase 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase-03-eda/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phase 3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase-04-features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phase 4
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase-05-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phase 5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase-06-evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phase 6
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase-07-deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phase 7
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase-08-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phase 8
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#project-definition-and-establishment" class="md-nav__link">
    <span class="md-ellipsis">
      Project Definition and Establishment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Definition and Establishment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#01-introduction-and-aims" class="md-nav__link">
    <span class="md-ellipsis">
      0.1. Introduction and Aims
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.1. Introduction and Aims">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#011-project-objective" class="md-nav__link">
    <span class="md-ellipsis">
      0.1.1. Project Objective
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#012-document-purpose" class="md-nav__link">
    <span class="md-ellipsis">
      0.1.2. Document Purpose
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#02-resource-and-environment-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      0.2. Resource and Environment Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.2. Resource and Environment Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#021-hardware" class="md-nav__link">
    <span class="md-ellipsis">
      0.2.1. Hardware
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#022-software-and-cloud-services-primarily-google-ecosystem" class="md-nav__link">
    <span class="md-ellipsis">
      0.2.2. Software and Cloud Services (Primarily Google Ecosystem)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#023-development-environment" class="md-nav__link">
    <span class="md-ellipsis">
      0.2.3. Development Environment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#03-proposed-workflow-outline-original-hybrid-concept" class="md-nav__link">
    <span class="md-ellipsis">
      0.3. Proposed Workflow Outline (Original Hybrid Concept)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="0.3. Proposed Workflow Outline (Original Hybrid Concept)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#031-rationale-for-hybrid-workflow-sheets-bigquery-colab" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.1. Rationale for Hybrid Workflow (Sheets -&gt; BigQuery -&gt; Colab)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#032-alternative-methodologies-considered-original-assessment" class="md-nav__link">
    <span class="md-ellipsis">
      0.3.2. Alternative Methodologies Considered (Original Assessment)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-1-data-collection-and-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Data Collection and Storage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 1: Data Collection and Storage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-data-sources" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Data Sources:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-historical-data-consideration-pre-2008" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Historical Data Consideration (Pre-2008):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-data-acquisition-methodology" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Data Acquisition Methodology:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-preliminary-data-formatting-post-scraping-for-hkjc-data" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. Preliminary Data Formatting (Post-Scraping - for HKJC Data):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-data-storage-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      1.5. Data Storage Strategy:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-2-data-cleansing-and-preprocessing" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Data Cleansing and Preprocessing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 2: Data Cleansing and Preprocessing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-overview-of-collected-data" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Overview of Collected Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-cleansing-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Cleansing Procedure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-data-validation-and-format-consistency" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Data Validation and Format Consistency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-management-of-missing-valuesoutliers" class="md-nav__link">
    <span class="md-ellipsis">
      2.4. Management of Missing Values/Outliers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-data-transformation-preparation-for-modeling" class="md-nav__link">
    <span class="md-ellipsis">
      2.5. Data Transformation (Preparation for Modeling)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-3-exploratory-data-analysis-eda" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Exploratory Data Analysis (EDA)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 3: Exploratory Data Analysis (EDA)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-data-querying" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Data Querying
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-descriptive-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Descriptive Statistics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-visualization" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Visualization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-initial-observations-and-hypothesis-formulation" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Initial Observations and Hypothesis Formulation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-4-feature-engineering" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Feature Engineering
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 4: Feature Engineering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-methodology" class="md-nav__link">
    <span class="md-ellipsis">
      4.1. Methodology
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-initial-feature-set" class="md-nav__link">
    <span class="md-ellipsis">
      4.2. Initial Feature Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-target-feature-set" class="md-nav__link">
    <span class="md-ellipsis">
      4.3. Target Feature Set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-example-categories-of-engineered-features" class="md-nav__link">
    <span class="md-ellipsis">
      4.4. Example Categories of Engineered Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-feature-engineering-approach" class="md-nav__link">
    <span class="md-ellipsis">
      4.5. Feature Engineering Approach
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-roles-of-bigquery-and-colab" class="md-nav__link">
    <span class="md-ellipsis">
      4.6. Roles of BigQuery and Colab
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-5-model-development-and-training" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 5: Model Development and Training
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 5: Model Development and Training">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-model-selection" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Model Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-training-environment" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Training Environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-validation-approach" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Validation Approach
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-hyperparameter-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      5.4. Hyperparameter Optimization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-6-model-evaluation-and-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 6: Model Evaluation and Validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 6: Model Evaluation and Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-performance-metrics" class="md-nav__link">
    <span class="md-ellipsis">
      6.1. Performance Metrics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-backtesting-outcomes" class="md-nav__link">
    <span class="md-ellipsis">
      6.2. Backtesting Outcomes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-wagering-strategy-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      6.3. Wagering Strategy Simulation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-profitability-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      6.4. Profitability Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#65-iterative-refinement" class="md-nav__link">
    <span class="md-ellipsis">
      6.5. Iterative Refinement
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-7-deployment-and-monitoring-future-phase" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 7: Deployment and Monitoring (Future Phase)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 7: Deployment and Monitoring (Future Phase)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-prediction-generation-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      7.1. Prediction Generation Workflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-performance-monitoring" class="md-nav__link">
    <span class="md-ellipsis">
      7.2. Performance Monitoring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-retraining-approach" class="md-nav__link">
    <span class="md-ellipsis">
      7.3. Retraining Approach
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#phase-8-project-management-and-continuous-improvement" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 8: Project Management and Continuous Improvement
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Phase 8: Project Management and Continuous Improvement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-potential-challenges-and-resolutions-ongoing-log" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. Potential Challenges and Resolutions (Ongoing Log)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-data-size-projections-and-growth" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. Data Size Projections and Growth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-tools-summary" class="md-nav__link">
    <span class="md-ellipsis">
      8.3. Tools Summary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-future-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      8.4. Future Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85-version-control-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      8.5. Version Control Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86-references" class="md-nav__link">
    <span class="md-ellipsis">
      8.6. References
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.6. References">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a1-hk_racing_datasetrace_details" class="md-nav__link">
    <span class="md-ellipsis">
      A.1. hk_racing_dataset.race_details
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a2-hk_racing_datasetrace_card" class="md-nav__link">
    <span class="md-ellipsis">
      A.2. hk_racing_dataset.race_card
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a3-hk_racing_datasetrace_results" class="md-nav__link">
    <span class="md-ellipsis">
      A.3. hk_racing_dataset.race_results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a4-hk_racing_datasethorse_register" class="md-nav__link">
    <span class="md-ellipsis">
      A.4. hk_racing_dataset.horse_register
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="hong-kong-racing-project-master-plan">Hong Kong Racing Project: Master Plan</h1>
<p>This document outlines the technical plan for building a handicapping and wagering system for thoroughbred horse racing in Hong Kong, with the primary objective of achieving sustainable financial gain through data-driven strategies. It serves as the central reference for project scope, methodology, and planned execution across all phases.</p>
<h2 id="project-definition-and-establishment">Project Definition and Establishment</h2>
<h3 id="01-introduction-and-aims">0.1. Introduction and Aims</h3>
<h4 id="011-project-objective">0.1.1. Project Objective</h4>
<ul>
<li><strong>Goal</strong>: Develop and implement a machine learning-based handicapping and wagering system aimed at generating a positive return on investment (ROI) from Hong Kong horse racing.</li>
<li><strong>Team</strong>: Solo project with assistance from AI (e.g., Google Gemini).</li>
<li><strong>Broader Context</strong>: This project focuses on the technical development of a predictive system for financial gain within the domain of horse race wagering. It's acknowledged that this operates within the context of gambling, and responsible practices should guide any potential future application of the system's outputs.</li>
</ul>
<h4 id="012-document-purpose">0.1.2. Document Purpose</h4>
<p>This <code>project_plan.md</code> (and the accompanying MkDocs site) serves several key purposes:</p>
<ul>
<li><strong>Centralized Record</strong>: Acts as the primary repository for documenting all project plans, methodologies, data sources, and strategic decisions made throughout the project lifecycle.</li>
<li><strong>Shared Context for AI Collaboration</strong>: Functions as a persistent memory and context for ongoing work and discussions with AI assistants. Referencing and updating this plan and related phase reports ensures continuity.</li>
<li><strong>Single Source of Truth</strong>: Establishes a definitive reference point for the project's scope, workflow, tools, and challenges.</li>
<li><strong>Tracking Evolution</strong>: While this document outlines the plan, individual phase reports (<code>docs/phase-XX-name.md</code>) will track the execution and evolution of the project.</li>
</ul>
<h3 id="02-resource-and-environment-configuration">0.2. Resource and Environment Configuration</h3>
<h4 id="021-hardware">0.2.1. Hardware</h4>
<ul>
<li><strong>Local machine</strong>: MacBook Air, 8GB RAM, Apple Silicon (M1 chip).</li>
<li><strong>Online</strong>: Standard Colab CPU Environment (e.g., Intel Xeon, ~13 GB RAM). Google Colab free tier also provides variable access to GPU and TPU accelerators.</li>
</ul>
<h4 id="022-software-and-cloud-services-primarily-google-ecosystem">0.2.2. Software and Cloud Services (Primarily Google Ecosystem)</h4>
<ul>
<li><strong>Google BigQuery</strong>: Central data warehouse for storing historical and current race data. Chosen for scalability, Colab integration, and cost-effectiveness within its free tier.</li>
<li><strong>Google Colab</strong>: Primary environment for data scraping, cleaning, analysis, feature engineering, visualization, and ML model development.</li>
<li><strong>Google Sheets</strong>: Used as an intermediary data hub, for manual input/correction if necessary, and potentially for controlling updates via Apps Script (original plan).</li>
<li><strong>Google Apps Script</strong>: Planned for automating data update processes (e.g., Sheets to BigQuery).</li>
<li><strong>Google Cloud Storage (GCS)</strong>: Considered for intermediary data storage (e.g., Parquet files) to optimize data transfer between BigQuery and Colab.</li>
<li><strong>Python Libraries</strong>:<ul>
<li>Data Acquisition: Beautiful Soup (or potentially Playwright/Selenium if dynamic content requires it).</li>
<li>Data Manipulation &amp; Analysis: pandas, NumPy, Polars.</li>
<li>Cloud Interaction: <code>google-cloud-bigquery</code>, <code>gspread</code>.</li>
<li>Visualization: Plotly, Matplotlib, Seaborn.</li>
<li>Machine Learning: Scikit-learn, TensorFlow, PyTorch, XGBoost, LightGBM (specific choices in modeling phase).</li>
</ul>
</li>
<li><strong>Version Control</strong>: Git, managed via a GitHub repository.</li>
<li><strong>Documentation</strong>: MkDocs with the Material theme.</li>
</ul>
<h4 id="023-development-environment">0.2.3. Development Environment</h4>
<ul>
<li><strong>Google Colab</strong>: Primary for computationally intensive tasks (data processing, ML).</li>
<li><strong>Visual Studio Code (VS Code) - Local</strong>: For developing helper scripts, managing the project repository, and MkDocs site generation/preview.</li>
</ul>
<h3 id="03-proposed-workflow-outline-original-hybrid-concept">0.3. Proposed Workflow Outline (Original Hybrid Concept)</h3>
<h4 id="031-rationale-for-hybrid-workflow-sheets-bigquery-colab">0.3.1. Rationale for Hybrid Workflow (Sheets -&gt; BigQuery -&gt; Colab)</h4>
<p><em>(This section reflects the original thinking from the Google Doc. The actual implementation might evolve and will be documented in phase reports.)</em>
The initially chosen workflow utilized a hybrid approach: Google Sheets (for easily editable data), BigQuery (External Tables linking to Sheets, then materializing into Native Tables for performance), and Google Colab for analysis and ML.</p>
<ul>
<li><strong>Ease of Data Correction</strong>: Sheets as the primary editable source.</li>
<li><strong>Analytical Performance</strong>: Native BigQuery tables for querying.</li>
<li><strong>Scalability</strong>: BigQuery's inherent scalability.</li>
<li><strong>Resource Efficiency</strong>: Colab for computation.</li>
<li><strong>Integration &amp; Control</strong>: Google ecosystem synergy.</li>
<li><strong>Cost-Effectiveness</strong>: Leveraging free tiers.</li>
</ul>
<h4 id="032-alternative-methodologies-considered-original-assessment">0.3.2. Alternative Methodologies Considered (Original Assessment)</h4>
<ul>
<li><strong>DuckDB (Local) + Colab</strong>: Rejected due to local RAM limits and less straightforward data correction than Sheets.</li>
<li><strong>Pandas/Polars (Local only)</strong>: Rejected due to RAM limits and lack of persistence/scalability.</li>
<li><strong>SQLite (Local)</strong>: Rejected due to performance for analytical queries and local resource limits.</li>
<li><strong>PostgreSQL (Local)</strong>: Rejected due to overhead on local hardware.</li>
<li><strong>Snowflake (Cloud)</strong>: Rejected due to lack of a comparable free tier to BigQuery.</li>
</ul>
<hr />
<h2 id="phase-1-data-collection-and-storage">Phase 1: Data Collection and Storage</h2>
<p><strong>Objective:</strong> To acquire all relevant raw and processed historical data from 2008 onwards and establish a structured and robust initial storage solution in Google BigQuery. This phase focuses on ingesting previously processed data and setting up the capability to collect ongoing race data.</p>
<h3 id="11-data-sources">1.1 Data Sources:</h3>
<ul>
<li>
<p><strong>Primary Historical Processed Data (2008 - March 2025):</strong></p>
<ul>
<li><strong>Source 1:</strong> User-provided Google Sheets from a 3rd party source. This data has undergone previous processing and error correction by the user.</li>
<li><strong>Content:</strong> Includes race results, race cards, race details, and horse register information.</li>
<li>
<p><strong>Period:</strong> From 2008 (coinciding with GPS tracking implementation) up to November 2023.</p>
</li>
<li>
<p><strong>Source 2:</strong> User scraped data using a copy and paste method with the aid of app script for processing.</p>
</li>
<li><strong>Content:</strong> Continuation of the 3rd party data.</li>
<li><strong>Period:</strong> From Dec 2023 to 19 March 2025.</li>
</ul>
</li>
<li>
<p><strong>Primary Ongoing Raw Data (March 2025 onwards):</strong></p>
<ul>
<li><strong>Source:</strong> Hong Kong Jockey Club (HKJC) official website (<code>https://racing.hkjc.com/</code>).</li>
<li><strong>Content:</strong> Racecards (for upcoming races), race results (historical, post-race), horse details, trackwork records, stewards' reports, and any other relevant data available.</li>
<li><strong>Period:</strong> From March 2025 onwards.</li>
</ul>
</li>
</ul>
<h3 id="12-historical-data-consideration-pre-2008">1.2. Historical Data Consideration (Pre-2008):</h3>
<ul>
<li>Data prior to 2008, from the 3rd party source, while available in CSV format, has been deemed <strong>out of scope</strong> for this project.</li>
<li><strong>Rationale for Exclusion:</strong><ul>
<li>Significant data quality issues (error-prone, missing values for critical fields like win odds, horse weights, and HKJC ratings).</li>
<li>Absence of sectional timings and less accurate overall finish times.</li>
<li>Fundamental differences in track configurations (e.g., false rail positions) before the consistent GPS tracking system was implemented in 2008.</li>
<li>Lack of advanced timing systems (e.g., precision to two decimal places for finish and sectional times).</li>
</ul>
</li>
<li>Focusing on data from 2008 onwards ensures higher quality, consistency, and relevance to current racing conditions.</li>
</ul>
<h3 id="13-data-acquisition-methodology">1.3. Data Acquisition Methodology:</h3>
<ul>
<li><strong>Processed Historical Data (Google Sheets):</strong><ul>
<li><strong>Method:</strong> Python scripts utilizing libraries such as <code>gspread</code> and <code>pandas</code> to read data directly from the user's Google Sheets.</li>
<li><strong>Environment:</strong> Local Python environment or Google Colab.</li>
</ul>
</li>
<li><strong>Ongoing Raw Data (HKJC Website):</strong><ul>
<li><strong>Primary Method:</strong> Web scraping using Python libraries (e.g., <code>requests</code>, <code>Beautiful Soup</code>, and potentially <code>Playwright</code> or <code>Selenium</code> if dynamic content rendering is a significant factor).</li>
<li><strong>Environment:</strong> Scripts will be developed locally or in Google Colab and designed for potential future deployment in an automated environment (e.g., Google Cloud Functions).</li>
<li><strong>API Limitations:</strong> The HKJC does not offer a public API, necessitating web scraping.</li>
<li><strong>Scope per Session:</strong> Scraping will be batched, likely per race day or specific data types (e.g., all results for a given day, all upcoming racecards).</li>
<li><strong>Race Calendar:</strong> The <code>src/ingestion/race_calendar.py</code> script, which reads race meeting dates from a Google Sheet, will be utilized to guide the scraping schedule for race-specific data.</li>
<li><strong>Maintenance:</strong> To ensure the scraping scripts continue to function correctly despite potential modifications to the HKJC website, they will need consistent oversight and upkeep. Health status updates for the scraping system will be generated and recorded in <code>phase-01-collection.md</code>.</li>
</ul>
</li>
</ul>
<h3 id="14-preliminary-data-formatting-post-scraping-for-hkjc-data">1.4. Preliminary Data Formatting (Post-Scraping - for HKJC Data):</h3>
<ul>
<li><strong>Environment:</strong> Python scripts (local or Colab).</li>
<li><strong>Objective:</strong> For newly scraped data, perform initial transformations to ensure basic consistency before storage in the raw BigQuery dataset. This includes:<ul>
<li>Data type enforcement (e.g., converting strings to numbers or dates where appropriate).</li>
<li>Basic string manipulation (trimming whitespace, standardizing case for certain fields).</li>
<li>Structural validation to ensure essential fields are present.</li>
</ul>
</li>
<li><strong>Rationale:</strong> Python scripts provide reproducibility, version control, and robust error handling for these initial formatting steps.</li>
</ul>
<h3 id="15-data-storage-strategy">1.5. Data Storage Strategy:</h3>
<ul>
<li><strong>Primary Data Warehouse:</strong> Google BigQuery.</li>
<li><strong>BigQuery Datasets:</strong><ul>
<li><strong><code>hk_racing_dataset</code> (Main Dataset):</strong><ul>
<li><strong>Purpose:</strong> To store the processed historical data (2008 - March 2025) from Google Sheets. This dataset will also serve as the target for fully cleansed, integrated, and modeled analytical data in later phases.</li>
<li><strong>Schema:</strong> Tables (<code>results</code>, <code>racecard</code>, <code>race_details</code>, <code>horse_register</code>) will adhere to the structures defined by the user (see Appendix A: Data Dictionary).</li>
</ul>
</li>
<li><strong><code>hk_racing_scraped_raw</code> (Staging/Raw Dataset):</strong><ul>
<li><strong>Purpose:</strong> To store the raw data collected from the HKJC website (December 2023 onwards) after preliminary formatting.</li>
<li><strong>Schema:</strong> Table structures in this dataset will initially mirror the scraped data structure closely. Data will be transformed and loaded into the main <code>hk_racing_dataset</code> during Phase 2 (Cleansing and Preprocessing).</li>
</ul>
</li>
</ul>
</li>
<li><strong>Data Ingestion Pipeline:</strong><ul>
<li><strong>Sheets to BigQuery:</strong> Python scripts will read from Google Sheets and load data directly into the corresponding tables in <code>hk_racing_dataset</code>.</li>
<li><strong>HKJC Scrapes to BigQuery:</strong> Python scraping scripts will perform preliminary formatting and then load data directly into tables within <code>hk_racing_scraped_raw</code>. Temporary local file storage (e.g., JSON, CSV) or GCS may be used as an intermediate step during the scraping and loading process if beneficial for batching or error handling.</li>
</ul>
</li>
<li><strong>Configuration:</strong> GCP project ID, BigQuery dataset IDs, and other relevant parameters will be managed via <code>config/config.yaml</code> and accessed using <code>src/common/config_loader.py</code>.</li>
<li><strong>Update Frequency:</strong> New race data from HKJC will be collected and processed typically twice weekly, aligned with the HKJC racing calendar. Automation of this collection is a future goal (Phase 4).</li>
</ul>
<hr />
<h2 id="phase-2-data-cleansing-and-preprocessing">Phase 2: Data Cleansing and Preprocessing</h2>
<p><em>(This phase focuses on transforming raw collected data into a clean, consistent, and usable dataset.)</em></p>
<h3 id="21-overview-of-collected-data">2.1. Overview of Collected Data</h3>
<p>The dataset will encompass:
* Race identification and context (Date, Course, Race Number, Class, Distance, Going, Prize Money, etc.).
* Horse performance metrics (Finishing Place, Finish Time, Sectional Times, Weight Carried, Draw, etc.).
* Betting information (Win/Place Odds).
* Jockey and Trainer details.
* Pre-race horse information (Horse Weight, Rating, Rest Days, Gear, etc.).
* (Refer to Appendix A: Data Dictionary for detailed schema).</p>
<h3 id="22-cleansing-procedure">2.2. Cleansing Procedure</h3>
<ul>
<li><strong>Environment</strong>: Primarily Google Colab or local Python scripts, with results stored in BigQuery.</li>
<li><strong>Key Steps</strong>:<ul>
<li><strong>Data Type Enforcement</strong>: Ensure columns match predefined types (integer, float, string, date).</li>
<li><strong>String Manipulation</strong>: Trim whitespace, standardize capitalization, handle special characters.</li>
<li><strong>Categorical Value Standardization</strong>: Ensure consistency in fields like <code>COURSE</code>, <code>CLASS</code>, <code>GOING</code>. Map variations to standard values.</li>
<li><strong>Handling Specific Non-Numeric/Placeholder Strings</strong>: Address values like 'UNRATED', 'GRIFFIN', 'DEBUT' in fields that are otherwise numeric or categorical.</li>
<li><strong>Addressing Known Inconsistencies</strong>: Programmatic fixes for known issues in historical data.</li>
</ul>
</li>
</ul>
<h3 id="23-data-validation-and-format-consistency">2.3. Data Validation and Format Consistency</h3>
<ul>
<li><strong>Objective</strong>: Rigorously validate data against the schema in Appendix A.</li>
<li><strong>Checks</strong>: Data type verification, value range checks, categorical value consistency, basic relational integrity checks (e.g., consistent IDs).</li>
<li><strong>Discrepancy Handling</strong>: Refine cleansing scripts or (as a last resort for historical data) document manual corrections.</li>
</ul>
<h3 id="24-management-of-missing-valuesoutliers">2.4. Management of Missing Values/Outliers</h3>
<ul>
<li><strong>Approach</strong>: Strategies will be determined based on EDA findings (Phase 3) and model requirements.</li>
<li><strong>Missing Values</strong>: Options include deletion (rows/columns), mean/median/mode imputation, regression imputation, or model-based imputation.</li>
<li><strong>Outliers</strong>: Identification (e.g., IQR, Z-scores) followed by potential capping, transformation, or removal.</li>
</ul>
<h3 id="25-data-transformation-preparation-for-modeling">2.5. Data Transformation (Preparation for Modeling)</h3>
<ul>
<li><strong>Encoding Categorical Variables</strong>: Convert string categories (e.g., <code>CLASS</code>, <code>GOING</code>) into numerical representations (One-Hot, Label, Target Encoding).</li>
<li><strong>Numerical Scaling</strong>: Apply standardization or normalization if required by specific models.</li>
<li><strong>Other Transformations</strong>: Log transforms, polynomial features, etc., based on EDA and model needs.</li>
</ul>
<hr />
<h2 id="phase-3-exploratory-data-analysis-eda">Phase 3: Exploratory Data Analysis (EDA)</h2>
<p><em>(This phase focuses on understanding the data through querying, statistics, and visualizations to uncover patterns and formulate hypotheses.)</em></p>
<h3 id="31-data-querying">3.1. Data Querying</h3>
<ul>
<li><strong>Source</strong>: Cleansed data tables in Google BigQuery.</li>
<li><strong>Environment</strong>: Google Colab using the <code>google-cloud-bigquery</code> Python library.</li>
<li><strong>Process</strong>: Construct SQL queries in Colab, execute against BigQuery, load results into Pandas/Polars DataFrames for analysis.</li>
</ul>
<h3 id="32-descriptive-statistics">3.2. Descriptive Statistics</h3>
<ul>
<li><strong>Tools</strong>: Python libraries (Pandas, NumPy) in Colab.</li>
<li><strong>Numerical Variables</strong>: Calculate count, mean, median, std dev, min, max, percentiles, skewness, kurtosis.</li>
<li><strong>Categorical Variables</strong>: Frequency counts, unique values, mode.</li>
</ul>
<h3 id="33-visualization">3.3. Visualization</h3>
<ul>
<li><strong>Primary Tool</strong>: Plotly for interactive plots in Colab. Seaborn and Matplotlib as alternatives.</li>
<li><strong>Univariate Analysis</strong>: Histograms, density plots, box plots, bar charts.</li>
<li><strong>Bivariate/Multivariate Analysis</strong>: Scatter plots, correlation heatmaps, grouped plots, time series plots (if applicable).</li>
</ul>
<h3 id="34-initial-observations-and-hypothesis-formulation">3.4. Initial Observations and Hypothesis Formulation</h3>
<ul>
<li>Synthesize findings from statistics and visualizations.</li>
<li>Identify significant patterns, trends, anomalies, and correlations.</li>
<li>Formulate initial hypotheses about factors influencing race outcomes.</li>
<li>Identify areas needing further investigation. These insights will guide Feature Engineering (Phase 4).</li>
</ul>
<hr />
<h2 id="phase-4-feature-engineering">Phase 4: Feature Engineering</h2>
<p><em>(This phase focuses on creating new, potentially more predictive variables from the cleaned dataset.)</em></p>
<h3 id="41-methodology">4.1. Methodology</h3>
<ul>
<li><strong>Environment</strong>: Google Colab using Pandas, NumPy, Polars, and Scikit-learn.</li>
<li><strong>Approach</strong>: Iterative process based on domain knowledge, EDA insights, and preliminary model testing.</li>
<li><strong>Goal</strong>: Transform base data into a richer feature set that captures complex racing dynamics.</li>
</ul>
<h3 id="42-initial-feature-set">4.2. Initial Feature Set</h3>
<ul>
<li>The starting point is the cleansed, validated dataset (approx. 40-50 core variables as per Appendix A).</li>
</ul>
<h3 id="43-target-feature-set">4.3. Target Feature Set</h3>
<ul>
<li>Strategically expand the initial set. The focus is on developing hypothesized predictive features and validating their impact, rather than a fixed target number of features.</li>
</ul>
<h3 id="44-example-categories-of-engineered-features">4.4. Example Categories of Engineered Features</h3>
<ul>
<li><strong>Form &amp; Consistency</strong>: Rolling win/place percentages, average finishing position (recent races), days since last win.</li>
<li><strong>Speed &amp; Pace</strong>: Calculated speed figures, sectional speed ratings, comparisons to class/distance/track averages.</li>
<li><strong>Jockey/Trainer Statistics</strong>: Win/place rates (overall, by course, distance, class, horse combination), recent form.</li>
<li><strong>Odds-Based Features</strong>: Odds movement (if available), probability derived from odds, value indicators (odds vs. finish).</li>
<li><strong>Class &amp; Weight Related</strong>: Rating relative to class, weight carried relative to past or standard weights.</li>
<li><strong>Interaction &amp; Derived Features</strong>: Jockey win rate <em>on this course</em>, horse average speed <em>at this distance</em>.</li>
<li><strong>Lagged Variables</strong>: Performance metrics from the previous race.</li>
</ul>
<h3 id="45-feature-engineering-approach">4.5. Feature Engineering Approach</h3>
<ul>
<li>Iterative: Develop, test (correlation, feature importance from simple models, backtesting), refine/discard.</li>
<li>New ideas may emerge during modeling and evaluation.</li>
</ul>
<h3 id="46-roles-of-bigquery-and-colab">4.6. Roles of BigQuery and Colab</h3>
<ul>
<li><strong>BigQuery</strong>: Source for cleaned base data. Potentially store validated engineered features in new tables/views for efficient reuse.</li>
<li><strong>Colab</strong>: Primary environment for implementing complex feature calculation logic.</li>
</ul>
<hr />
<h2 id="phase-5-model-development-and-training">Phase 5: Model Development and Training</h2>
<p><em>(This phase involves selecting, training, and optimizing machine learning models to predict race outcomes.)</em></p>
<h3 id="51-model-selection">5.1. Model Selection</h3>
<ul>
<li><strong>Target Variable(s)</strong>: To be clearly defined (e.g., predict win probability, predict top N finish, predict expected ROI).</li>
<li><strong>Baseline Models</strong>: Start with simpler, interpretable models (Logistic Regression, Linear Regression, Decision Trees, Random Forests).</li>
<li><strong>Advanced Models</strong>: Explore Gradient Boosting Machines (XGBoost, LightGBM, CatBoost), Neural Networks (MLPs, potentially RNNs/LSTMs if sequential data like sectional times are heavily used).</li>
<li><strong>Selection Criteria</strong>: Predictive performance (via backtesting), interpretability, computational cost, training time.</li>
</ul>
<h3 id="52-training-environment">5.2. Training Environment</h3>
<ul>
<li><strong>Primary</strong>: Google Colab, leveraging free-tier GPU/TPU accelerators for computationally intensive models.</li>
</ul>
<h3 id="53-validation-approach">5.3. Validation Approach</h3>
<ul>
<li><strong>Primary Method</strong>: Rigorous Backtesting.<ul>
<li>Simulate training on historical data up to a point and evaluating on subsequent unseen historical data.</li>
<li>Employ time-series aware validation (e.g., walk-forward validation) to prevent data leakage.</li>
</ul>
</li>
</ul>
<h3 id="54-hyperparameter-optimization">5.4. Hyperparameter Optimization</h3>
<ul>
<li>For promising models, optimize hyperparameters to maximize performance on validation sets.</li>
<li><strong>Techniques</strong>: Grid Search, Randomized Search, Bayesian Optimization (using libraries like Optuna or Scikit-learn tools).</li>
</ul>
<hr />
<h2 id="phase-6-model-evaluation-and-validation">Phase 6: Model Evaluation and Validation</h2>
<p><em>(This phase focuses on rigorously evaluating model performance, especially in the context of wagering profitability.)</em></p>
<h3 id="61-performance-metrics">6.1. Performance Metrics</h3>
<ul>
<li><strong>Primary Focus (Wagering Profitability)</strong>:<ul>
<li>Return on Investment (ROI).</li>
<li>Hit Rate (Win Prediction Accuracy, Place Prediction Accuracy).</li>
</ul>
</li>
<li><strong>Standard ML Metrics (Task-Dependent)</strong>:<ul>
<li>Classification: Accuracy, Precision, Recall, F1-score, Log Loss, AUC-ROC, AUC-PR.</li>
<li>Regression (if predicting rank/time): MAE, RMSE.</li>
</ul>
</li>
</ul>
<h3 id="62-backtesting-outcomes">6.2. Backtesting Outcomes</h3>
<ul>
<li>Present detailed quantitative results from backtesting simulations.</li>
<li>Compare different models and hyperparameter configurations across historical validation periods.</li>
</ul>
<h3 id="63-wagering-strategy-simulation">6.3. Wagering Strategy Simulation</h3>
<ul>
<li>Simulate model use within defined wagering strategies during backtesting.</li>
<li><strong>Examples</strong>: Fixed Stakes, Percentage Stakes (e.g., fixed percentage of bankroll), Kelly Criterion (adjusting bet size based on perceived edge and odds).</li>
<li>Simulation must account for historical odds and race results.</li>
</ul>
<h3 id="64-profitability-analysis">6.4. Profitability Analysis</h3>
<ul>
<li>In-depth analysis of simulated financial performance (total profit/loss, ROI, drawdown, risk-adjusted returns).</li>
<li>Assess feasibility of achieving the project's primary objective (positive ROI).</li>
</ul>
<h3 id="65-iterative-refinement">6.5. Iterative Refinement</h3>
<ul>
<li>Evaluation results drive improvements:<ul>
<li>Revisit Feature Engineering (Phase 4).</li>
<li>Revisit Model Selection (Phase 5.1).</li>
<li>Revisit Hyperparameter Optimization (Phase 5.4).</li>
<li>Analyze errors to understand model strengths/weaknesses.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="phase-7-deployment-and-monitoring-future-phase">Phase 7: Deployment and Monitoring (Future Phase)</h2>
<p><em>(This phase outlines operationalizing the model and monitoring its ongoing performance.)</em></p>
<h3 id="71-prediction-generation-workflow">7.1. Prediction Generation Workflow</h3>
<ul>
<li>End-to-end process for generating predictions/insights for upcoming race days:<ul>
<li>Acquire new racecard data.</li>
<li>Apply preprocessing and feature engineering steps consistently.</li>
<li>Load trained model.</li>
<li>Generate predictions.</li>
<li>Store/present predictions for decision-making.</li>
</ul>
</li>
<li>Define automation level and tools.</li>
</ul>
<h3 id="72-performance-monitoring">7.2. Performance Monitoring</h3>
<ul>
<li>Track real-world effectiveness and profitability:<ul>
<li>Collect actual race results.</li>
<li>Compare outcomes against predictions.</li>
<li>Track ROI based on simulated/actual wagers.</li>
<li>Monitor for model drift or changes in data distributions.</li>
</ul>
</li>
<li>Define metrics, frequency, and tools.</li>
</ul>
<h3 id="73-retraining-approach">7.3. Retraining Approach</h3>
<ul>
<li>Strategy for periodic model retraining:<ul>
<li><strong>Triggers</strong>: Performance degradation, fixed schedule, or significant new data accumulation.</li>
<li><strong>Process</strong>: Reuse pipelines from Phases 2-6 with updated data.</li>
<li><strong>Validation</strong>: Retrained models validated via backtesting before deployment.</li>
</ul>
</li>
</ul>
<hr />
<h2 id="phase-8-project-management-and-continuous-improvement">Phase 8: Project Management and Continuous Improvement</h2>
<p><em>(This section covers ongoing project aspects, learnings, and future considerations.)</em></p>
<h3 id="81-potential-challenges-and-resolutions-ongoing-log">8.1. Potential Challenges and Resolutions (Ongoing Log)</h3>
<p><em>(This list will be dynamic and updated in phase reports or a dedicated decisions/risks log as they arise.)</em>
* <strong>Cloud Costs (BigQuery/GCP)</strong>: Monitor usage, optimize queries, leverage free tiers.
* <strong>Feature Engineering Complexity</strong>: Iterative approach, start simple, leverage domain knowledge and EDA.
* <strong>Model Validation &amp; Profitability</strong>: Rigorous backtesting, realistic wagering simulation.
* <strong>Data Pipeline Robustness</strong>: Error handling, logging, monitoring.
* <strong>Data Integrity &amp; Correction</strong>: Ongoing validation checks, clear process for corrections.
* <strong>Web Scraping Maintenance</strong>: Monitor for HKJC site changes, allocate time for script updates.</p>
<h3 id="82-data-size-projections-and-growth">8.2. Data Size Projections and Growth</h3>
<ul>
<li>Initial dataset (18 years, ~171k rows, 40-50 cols): ~20-50 MB.</li>
<li>With engineered features (~150-200 cols): ~50-100 MB.</li>
<li>Long-term growth (next 15-20 years): Potentially doubling to ~200-400 MB.</li>
<li>These volumes are manageable within BigQuery free tiers and Colab.</li>
</ul>
<h3 id="83-tools-summary">8.3. Tools Summary</h3>
<ul>
<li><strong>Data Storage &amp; Querying</strong>: Google BigQuery.</li>
<li><strong>Data Processing &amp; Modeling</strong>: Python in Google Colab (Pandas, Scikit-learn, etc.).</li>
<li><strong>Web Scraping</strong>: Python (Beautiful Soup / Playwright).</li>
<li><strong>Version Control</strong>: Git / GitHub.</li>
<li><strong>Documentation</strong>: MkDocs (Material theme).</li>
<li><strong>Project Management / Task Tracking</strong>: <code>docs/project-status.md</code>.</li>
<li><strong>(Original) Intermediary Data/Control</strong>: Google Sheets, Google Apps Script (may be revised).</li>
</ul>
<h3 id="84-future-considerations">8.4. Future Considerations</h3>
<ul>
<li><strong>Advanced Deployment</strong>: If successful, explore more sophisticated deployment (e.g., dedicated prediction server, API).</li>
<li><strong>Alternative Data Sources</strong>: If HKJC scraping becomes untenable (unlikely to be better external sources).</li>
<li><strong>Deeper Model Exploration</strong>: More complex architectures if justified by performance.</li>
</ul>
<h3 id="85-version-control-strategy">8.5. Version Control Strategy</h3>
<ul>
<li>All project code, documentation, and configuration files will be version controlled using <strong>Git</strong>, hosted on a <strong>GitHub</strong> repository.</li>
<li>Branches will be used for feature development and experimentation (e.g., <code>feature/new-scraper</code>, <code>experiment/new-model-arch</code>).</li>
<li>The <code>main</code> branch will represent the stable, working version of the project.</li>
<li>Commits should be descriptive and atomic.</li>
</ul>
<h3 id="86-references">8.6. References</h3>
<p><em>(Placeholder for links to key documentation, research papers, articles, etc., consulted during the project.)</em></p>
<ul>
<li>HKJC Website: <code>[Link to be added]</code></li>
<li>Pandas Documentation: <code>https://pandas.pydata.org/pandas-docs/stable/</code></li>
<li>Scikit-learn Documentation: <code>https://scikit-learn.org/stable/</code></li>
<li>MkDocs Material Theme: <code>https://squidfunk.github.io/mkdocs-material/</code></li>
</ul>
<hr />
<p><strong>Appendix A: Phase 1 Data Dictionary</strong></p>
<p><em>The following tables are from the <code>hk_racing_dataset</code></em></p>
<h4 id="a1-hk_racing_datasetrace_details">A.1. <code>hk_racing_dataset.race_details</code></h4>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Data Type</th>
<th>Description</th>
<th>Notes / Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>RACE_ID</strong></td>
<td>INTEGER</td>
<td><strong>Primary key.</strong> Unique identifier for each race, combining date and seasonal sequence.</td>
<td>e.g. <code>20240414581</code> (YYYYMMDD + <code>581</code>)</td>
</tr>
<tr>
<td><strong>DATE</strong></td>
<td>DATE</td>
<td>Calendar date when the race was held.</td>
<td><code>2024-04-14</code></td>
</tr>
<tr>
<td><strong>VENUE</strong></td>
<td>STRING</td>
<td>Name of the racecourse.</td>
<td><code>Sha Tin</code>, <code>Happy Valley</code></td>
</tr>
<tr>
<td><strong>SURFACE</strong></td>
<td>STRING</td>
<td>Track surface type.</td>
<td><code>Turf</code> or <code>AWT</code> (all-weather track)</td>
</tr>
<tr>
<td><strong>RACE_NUM_SEASON</strong></td>
<td>INTEGER</td>
<td>Sequence number of this race in the current season (3-digit).</td>
<td><code>581</code></td>
</tr>
<tr>
<td><strong>CLASS</strong></td>
<td>STRING</td>
<td>Classification of the race by quality/conditions.</td>
<td><code>Class 1</code>, <code>Group 1</code>, <code>Griffin</code></td>
</tr>
<tr>
<td><strong>DISTANCE</strong></td>
<td>INTEGER</td>
<td>Race distance in metres.</td>
<td><code>1200</code>, <code>1650</code></td>
</tr>
<tr>
<td><strong>RANKING</strong></td>
<td>STRING</td>
<td>Official rating bracket for eligibility (upper-lower).</td>
<td><code>85-60</code>, <code>100-85</code></td>
</tr>
<tr>
<td><strong>GOING</strong></td>
<td>STRING</td>
<td>Turf going description, or condition of AWT.</td>
<td><code>GOOD</code>, <code>YIELDING (WET SLOW)</code>, <code>AWT</code></td>
</tr>
<tr>
<td><strong>RACE_DESCRIPTION</strong></td>
<td>STRING</td>
<td>Official race title.</td>
<td><code>THE HONG KONG EXCHANGES CHALLENGE CUP</code></td>
</tr>
<tr>
<td><strong>TRACK_CONFIG</strong></td>
<td>STRING</td>
<td>Course layout variant (e.g., inside rail offsets).</td>
<td><code>A</code>, <code>C+2</code>, <code>AWT</code></td>
</tr>
<tr>
<td><strong>PRIZE</strong></td>
<td>INTEGER</td>
<td>Total purse awarded (in HKD).</td>
<td><code>1200000</code></td>
</tr>
<tr>
<td><strong>PEN_READING</strong></td>
<td>FLOAT</td>
<td>Penetrometer reading for turf (strength) or Clegg hammer reading for AWT.</td>
<td><code>2.72</code> (turf), <code>8.4</code> (AWT)</td>
</tr>
</tbody>
</table>
<hr />
<h4 id="a2-hk_racing_datasetrace_card">A.2. <code>hk_racing_dataset.race_card</code></h4>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Data Type</th>
<th>Description</th>
<th>Notes / Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>RUNNER_ID</strong></td>
<td>STRING</td>
<td><strong>Primary key.</strong> Uniquely identifies a horse in a specific race.</td>
<td><code>20240414581*CLEARWIN*H255</code></td>
</tr>
<tr>
<td><strong>RACE_ID</strong></td>
<td>INTEGER</td>
<td><strong>Foreign key →</strong> <code>race_details.RACE_ID</code>.</td>
<td><code>20240414581</code></td>
</tr>
<tr>
<td><strong>HORSE_ID</strong></td>
<td>STRING</td>
<td><strong>Foreign key →</strong> <code>horse_register.HORSE_ID</code>.</td>
<td><code>CLEARWIN*H255</code></td>
</tr>
<tr>
<td><strong>WEIGHT</strong></td>
<td>INTEGER</td>
<td>Total impost carried (jockey + equipment), in pounds.</td>
<td><code>126</code></td>
</tr>
<tr>
<td><strong>HORSE_WEIGHT</strong></td>
<td>INTEGER</td>
<td>Declared bodyweight of the horse (taken pre-race), in pounds.</td>
<td><code>1180</code></td>
</tr>
<tr>
<td><strong>DRAW</strong></td>
<td>INTEGER</td>
<td>Barrier (gate) number at start.</td>
<td><code>1</code> (inside rail)</td>
</tr>
<tr>
<td><strong>JOCKEY</strong></td>
<td>STRING</td>
<td>Name of the jockey riding this runner.</td>
<td><code>Z Purton</code></td>
</tr>
<tr>
<td><strong>TRAINER</strong></td>
<td>STRING</td>
<td>Name of the trainer responsible for this runner.</td>
<td><code>D J Whyte</code></td>
</tr>
<tr>
<td><strong>RATING</strong></td>
<td>INTEGER</td>
<td>Official HKJC rating at time of race.</td>
<td><code>112</code></td>
</tr>
<tr>
<td><strong>DEBUT_BOOL</strong></td>
<td>BOOLEAN</td>
<td>Indicates if this was the horse’s first-ever start in Hong Kong.</td>
<td><code>TRUE</code>, <code>FALSE</code></td>
</tr>
<tr>
<td><strong>REST_DAYS</strong></td>
<td>INTEGER</td>
<td>Days elapsed since the horse’s previous run.</td>
<td><code>21</code></td>
</tr>
<tr>
<td><strong>RACE_AGE</strong></td>
<td>INTEGER</td>
<td>Age of the horse on race day, in years.</td>
<td><code>6</code></td>
</tr>
<tr>
<td><strong>GEAR</strong></td>
<td>STRING</td>
<td>Codes for equipment fitted (see Gear Key below).</td>
<td><code>PC/XB/TT</code>, <code>E</code>, <code>H1</code></td>
</tr>
</tbody>
</table>
<p><strong>Gear Key (HKJC standard abbreviations):</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Meaning</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>B</td>
<td>Blinkers</td>
<td></td>
</tr>
<tr>
<td>BO</td>
<td>Blinker (one cowl)</td>
<td></td>
</tr>
<tr>
<td>CC</td>
<td>Cornell Collar</td>
<td></td>
</tr>
<tr>
<td>CP</td>
<td>Sheepskin Cheek Pieces</td>
<td></td>
</tr>
<tr>
<td>CO</td>
<td>Sheepskin (one side)</td>
<td></td>
</tr>
<tr>
<td>E</td>
<td>Ear Plugs</td>
<td></td>
</tr>
<tr>
<td>H</td>
<td>Hood</td>
<td></td>
</tr>
<tr>
<td>P</td>
<td>Pacifier</td>
<td></td>
</tr>
<tr>
<td>PC</td>
<td>Pacifier + cowls</td>
<td></td>
</tr>
<tr>
<td>PS</td>
<td>Pacifier (one cowl)</td>
<td></td>
</tr>
<tr>
<td>SB</td>
<td>Sheepskin Browband</td>
<td></td>
</tr>
<tr>
<td>SR</td>
<td>Shadow Roll</td>
<td></td>
</tr>
<tr>
<td>TT</td>
<td>Tongue Tie</td>
<td></td>
</tr>
<tr>
<td>V</td>
<td>Visor</td>
<td></td>
</tr>
<tr>
<td>VO</td>
<td>Visor (one cowl)</td>
<td></td>
</tr>
<tr>
<td>XB</td>
<td>Crossed Nose Band</td>
<td></td>
</tr>
<tr>
<td>*1</td>
<td>First time use of that gear</td>
<td>Suffix, e.g. <code>H1</code></td>
</tr>
<tr>
<td>*2</td>
<td>Gear replaced</td>
<td>Suffix, e.g. <code>B2</code></td>
</tr>
<tr>
<td>-*</td>
<td>Gear removed</td>
<td>Suffix, e.g. <code>CC-</code></td>
</tr>
</tbody>
</table>
<hr />
<h4 id="a3-hk_racing_datasetrace_results">A.3. <code>hk_racing_dataset.race_results</code></h4>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Data Type</th>
<th>Description</th>
<th>Notes / Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>RUNNER_ID</strong></td>
<td>STRING</td>
<td><strong>Foreign key →</strong> <code>race_card.RUNNER_ID</code>. Matches each runner to its card entry.</td>
<td><code>20240414581*CLEARWIN*H255</code></td>
</tr>
<tr>
<td><strong>RACE_ID</strong></td>
<td>INTEGER</td>
<td><strong>Foreign key →</strong> <code>race_details.RACE_ID</code>.</td>
<td><code>20240414581</code></td>
</tr>
<tr>
<td><strong>HORSE_ID</strong></td>
<td>STRING</td>
<td><strong>Foreign key →</strong> <code>horse_register.HORSE_ID</code>.</td>
<td><code>CLEARWIN*H255</code></td>
</tr>
<tr>
<td><strong>FINISH_POS</strong></td>
<td>INTEGER</td>
<td>Official finishing position. Codes ≥90 may indicate non-finishers (e.g. DNS, UR).</td>
<td><code>1</code>, <code>2</code>, <code>DNF</code></td>
</tr>
<tr>
<td><strong>STARTING_ODDS</strong></td>
<td>FLOAT</td>
<td>Decimal odds at race start.</td>
<td><code>1.8</code>, <code>10.5</code></td>
</tr>
<tr>
<td><strong>PLACE_PAYOUTS</strong></td>
<td>FLOAT</td>
<td>Dividend payout for a successful “place” bet. <code>0</code> or <code>NULL</code> if unplaced or no payout available.</td>
<td><code>2.5</code>, <code>NULL</code></td>
</tr>
<tr>
<td><strong>FINISH_TIME</strong></td>
<td>FLOAT</td>
<td>Winner’s official finishing time in seconds.</td>
<td><code>71.52</code></td>
</tr>
<tr>
<td><strong>SEC_TIME_1</strong></td>
<td>FLOAT</td>
<td>Sectional time for first segment (varies by course layout).</td>
<td><code>22.15</code></td>
</tr>
<tr>
<td><strong>SEC_TIME_2</strong></td>
<td>FLOAT</td>
<td>Sectional time for second segment.</td>
<td><code>23.00</code></td>
</tr>
<tr>
<td><strong>SEC_TIME_3</strong></td>
<td>FLOAT</td>
<td>Sectional time for third segment.</td>
<td><code>26.37</code></td>
</tr>
<tr>
<td><strong>SEC_TIME_4</strong></td>
<td>FLOAT</td>
<td>Sectional time for fourth segment (if applicable).</td>
<td>—</td>
</tr>
<tr>
<td><strong>SEC_TIME_5</strong></td>
<td>FLOAT</td>
<td>Sectional time for fifth segment (if race &gt;1,600 m).</td>
<td>—</td>
</tr>
<tr>
<td><strong>SEC_TIME_6</strong></td>
<td>FLOAT</td>
<td>Sectional time for sixth segment (if race &gt;2,200 m).</td>
<td>—</td>
</tr>
</tbody>
</table>
<hr />
<h4 id="a4-hk_racing_datasethorse_register">A.4. <code>hk_racing_dataset.horse_register</code></h4>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Data Type</th>
<th>Description</th>
<th>Notes / Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>HORSE_ID</strong></td>
<td>STRING</td>
<td><strong>Primary key.</strong> Stable identifier for each horse across all races.</td>
<td><code>DEANSANGEL*D123</code></td>
</tr>
<tr>
<td><strong>HORSE_CODE</strong></td>
<td>STRING</td>
<td>Unique alphanumeric code assigned by HKJC (distinguishes duplicates).</td>
<td><code>D466</code>, <code>H255</code></td>
</tr>
<tr>
<td><strong>HORSE_NAME</strong></td>
<td>STRING</td>
<td>Official registered name of the horse.</td>
<td><code>DEAN’S ANGEL</code></td>
</tr>
<tr>
<td><strong>SEX</strong></td>
<td>STRING</td>
<td>Gender classification.</td>
<td><code>MALE</code>,<code>FEMALE</code></td>
</tr>
<tr>
<td><strong>COLOR</strong></td>
<td>STRING</td>
<td>Coat colour.</td>
<td><code>Bay</code>, <code>Chestnut</code></td>
</tr>
<tr>
<td><strong>COUNTRY_OF_ORIGIN</strong></td>
<td>STRING</td>
<td>Country where the horse was foaled (ISO 3-letter code).</td>
<td><code>AUS</code>, <code>NZ</code>, <code>IRE</code></td>
</tr>
<tr>
<td><strong>IMPORT_TYPE</strong></td>
<td>STRING</td>
<td>Means by which horse entered HK racing.</td>
<td><code>PP</code>, <code>PPG</code>, <code>ISG</code>, <code>VIS</code></td>
</tr>
<tr>
<td><strong>SIRE</strong></td>
<td>STRING</td>
<td>Registered name of the horse’s father.</td>
<td><code>ALL TOO HARD</code></td>
</tr>
<tr>
<td><strong>DAM</strong></td>
<td>STRING</td>
<td>Registered name of the horse’s mother.</td>
<td><code>ANGEL IN MY HEART</code></td>
</tr>
<tr>
<td><strong>DAM_SIRE</strong></td>
<td>STRING</td>
<td>Registered sire of the dam (maternal grandsire).</td>
<td><code>SEBRING</code></td>
</tr>
<tr>
<td><strong>OWNER</strong></td>
<td>STRING</td>
<td>Name(s) of the owner(s) as recorded by HKJC.</td>
<td><code>Mr &amp; Mrs John Smith</code></td>
</tr>
</tbody>
</table>
<hr />
<p><strong>Key relationship summary:</strong></p>
<ul>
<li><code>race_details.RACE_ID</code> → parent of both <code>race_card</code> and <code>race_results</code>.</li>
<li><code>race_card.RUNNER_ID</code> → referenced by <code>race_results.RUNNER_ID</code>.</li>
<li><code>horse_register.HORSE_ID</code> → parent of both <code>race_card.HORSE_ID</code> and <code>race_results.HORSE_ID</code>.</li>
</ul>
<p><strong>Import Type Key:</strong></p>
<ul>
<li><code>PP</code>: Privately Purchased Horses (previously raced elsewhere).</li>
<li><code>PPG</code>: Privately Purchased Griffins (unraced young horses).</li>
<li><code>ISG</code>: International Sale Griffins (unraced horses from approved sales).</li>
<li><code>VIS</code>: Visiting Invitational Horses (invited for specific major races).</li>
</ul>
<hr />







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>